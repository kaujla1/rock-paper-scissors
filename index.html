<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Rock Paper Scissors</title>
  </head>

  <body> 
    <script>
     
      /*generate a random choice for the computer*/
      let computerOptions = ["Rock", "Paper", "Scissors"];
      
      function getComputerChoice(computerOptions) {
        let computerChoice = computerOptions[Math.floor(Math.random() * computerOptions.length)];
        console.log("The computer chose: " + computerChoice);
        return computerChoice;
      }

      /*prompt the player to make a choice*/
     /* playerPrompt = prompt("Please choose Rock, Paper, or Scissors")
      
      function playerSelectionPrompt(playerPrompt) {
        selectionFirstLetter = playerPrompt.slice(0, 1);
        selectionRest = playerPrompt.slice(1);
        return selectionFirstLetter.toUpperCase() + selectionRest.toLowerCase();
      }*/
      
      function playerSelectionPrompt() {
        let playerPrompt = prompt("Please choose Rock, Paper, or Scissors")
        selectionFirstLetter = playerPrompt.slice(0, 1);
        selectionRest = playerPrompt.slice(1);
        return selectionFirstLetter.toUpperCase() + selectionRest.toLowerCase();
      }

      /*play a single round of rock paper scissors*/
      function playRound(playerSelection, computerSelection) {
        if (playerSelection === "Rock" && computerSelection === "Scissors") {
          return "You win!";
        } else if (playerSelection === "Rock" && computerSelection === "Paper") {
          return "You lose";
        } else if (playerSelection === "Rock" && computerSelection === "Rock") {
          return "It's a tie!";
        } else if (playerSelection === "Paper" && computerSelection === "Rock") {
          return "You win!";
        } else if (playerSelection === "Paper" && computerSelection === "Scissors") {
          return "You lose";
        } else if (playerSelection === "Paper" && computerSelection === "Paper") {
          return "It's a tie!";
        } else if (playerSelection === "Scissors" && computerSelection === "Paper") {
          return "You win!";
        } else if (playerSelection === "Scissors" && computerSelection === "Rock") {
          return "You lose";
        } else if (playerSelection === "Scissors" && computerSelection === "Scissors") {
          return "It's a tie";
        }
      }

      /*function game() {
        for (let i = 0; i < 5; i++) {
          let roundResult = console.log(playRound());
          scoreKeeper(roundResult);
        }
      }*/

      
      let roundResult = playRound(playerSelectionPrompt(), getComputerChoice(computerOptions));
      /*
      function game() {
        for (let i = 0; i < 5; i++) {
          roundResult = playRound(playerSelection, computerSelection);
          console.log(roundResult);
          scoreKeeper();
        }
        return console.log(gameResult());
      }*/

      function game() {
        for (let i = 0; i < 5; i++) {
          playRound(playerSelectionPrompt(), getComputerChoice(computerOptions));
          console.log(roundResult);
          scoreKeeper();
        }
        return console.log(gameResult());
      }
  
      /*keep track of and adjust the players' scores after each round*/
      let playerScore = 0;
      let computerScore = 0;

      function scoreKeeper() {
        if (roundResult === "You win!") {
          playerScore = playerScore + 1;
        } else if (roundResult === "You lose") {
          computerScore = computerScore + 1;
        } else if (roundResult === "It's a tie") {
          playerScore = playerScore + 1;
          computerScore = computerScore + 1;
        }
        console.log(playerScore, computerScore);
      }

      /*determines who won the overall game*/
      function gameResult() {
        if (playerScore > computerScore) {
          return "Game result: you won the game!";
        } else if (computerScore > playerScore) {
          return "Game result: you lost the game";
        } else if (playerScore == computerScore) {
          return "Game result: it's a tie game!";
        }
      }

      /*run game*/
      game();

    </script>
  </body>
</html>